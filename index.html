<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nexbit</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial;background:#0b1220;color:#fff}
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 15px;background:#0f1a3a
}
.left,.right{display:flex;align-items:center;gap:12px}
button{background:none;border:none;color:#fff;font-size:18px}
.tab.active{color:#4da3ff}

#menu{
 position:fixed;top:0;left:-260px;width:250px;height:100%;
 background:#121c3b;padding:20px;transition:.3s
}
#menu.show{left:0}

.search input{width:100%;padding:10px;border-radius:8px;border:none}

.coin{
 display:flex;justify-content:space-between;align-items:center;
 padding:12px;border-bottom:1px solid #1b2a5a
}
.coin img{width:28px}
.up{color:#2ecc71}.down{color:#e74c3c}

#popup{
 position:fixed;bottom:0;left:0;right:0;
 background:#121c3b;padding:20px;display:none;
 border-radius:16px 16px 0 0
}
#popup button{
 width:100%;margin:6px 0;padding:10px;
 background:#1b2a5a;border:none;border-radius:8px
}
.hidden{display:none}
</style>
</head>

<body>

<header>
  <div class="left">
    <button onclick="toggleMenu()">â˜°</button>
    <strong>Nexbit</strong>
    <span class="tab active" id="t_assets" onclick="showAssets()">Assets</span>
    <span class="tab" id="t_history" onclick="showHistory()">History</span>
  </div>
  <div class="right">
    <select id="lang" onchange="changeLang()">
      <option value="en">EN</option>
      <option value="hi">HI</option>
    </select>
    <button onclick="alert('Profile page later')">ðŸ‘¤</button>
  </div>
</header>

<!-- SIDE MENU -->
<div id="menu">
  <h3>Menu</h3>
  <p>Wallet</p>
  <p>Security</p>
  <p>Settings</p>
</div>

<div style="padding:15px">

<div id="assetsPage">
  <div class="search"><input id="search" placeholder="Search coin"></div>
  <div id="coinList"></div>
</div>

<div id="historyPage" class="hidden">
  <ul id="historyList"></ul>
</div>

</div>

<div id="popup">
  <h3 id="coinTitle"></h3>
  <button onclick="addHistory('Deposit')">Deposit</button>
  <button onclick="addHistory('Withdraw')">Withdraw</button>
  <button onclick="addHistory('Transfer')">Transfer</button>
  <button onclick="addHistory('Trade')">Trade</button>
  <button onclick="closePopup()">Close</button>
</div>

<script>
let coins=[],last={},selectedCoin="";

function toggleMenu(){
 menu.classList.toggle("show")
}

function changeLang(){
 alert("Language switched to "+lang.value.toUpperCase())
}

async function loadCoins(){
 const r=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&per_page=50&page=1");
 coins=await r.json();
 render(coins);
}
function render(list){
 coinList.innerHTML="";
 list.forEach(c=>{
  let d=last[c.id] && c.current_price>last[c.id]?"up":"down";
  last[c.id]=c.current_price;
  coinList.innerHTML+=`
   <div class="coin" onclick="openCoin('${c.name}')">
    <div><img src="${c.image}"> ${c.symbol.toUpperCase()}</div>
    <div class="${d}">$${c.current_price}</div>
   </div>`;
 });
}

search.oninput=e=>{
 render(coins.filter(c=>c.name.toLowerCase().includes(e.target.value)))
}

function openCoin(name){
 selectedCoin=name;
 coinTitle.innerText=name;
 popup.style.display="block";
}
function closePopup(){popup.style.display="none"}

function addHistory(type){
 let h=JSON.parse(localStorage.getItem("history")||"[]");
 h.push(type+" - "+selectedCoin);
 localStorage.setItem("history",JSON.stringify(h));
 alert(type+" added");
}

function showHistory(){
 assetsPage.classList.add("hidden");
 historyPage.classList.remove("hidden");
 let h=JSON.parse(localStorage.getItem("history")||"[]");
 historyList.innerHTML=h.map(x=>"<li>"+x+"</li>").join("");
}
function showAssets(){
 historyPage.classList.add("hidden");
 assetsPage.classList.remove("hidden");
}

loadCoins();
setInterval(loadCoins,10000);
</script>

</body>
</html>
