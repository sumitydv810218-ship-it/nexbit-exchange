<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nexbit Exchange</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#0b1220;color:#fff}

header{
background:#0f1a3a;
padding:12px 15px;
display:flex;
justify-content:space-between;
align-items:center
}
header .left{display:flex;gap:15px;align-items:center}
header .right{display:flex;gap:10px;align-items:center}
.tab{cursor:pointer}
.tab.active{color:#4da3ff}
button{background:none;border:none;color:#fff;cursor:pointer}

.container{padding:15px}
.card{background:#121c3b;border-radius:12px;padding:15px;margin-bottom:15px}

.balance h1{margin:5px 0}

.asset-row{
background:#0f1a3a;
border-radius:10px;
margin-bottom:10px;
padding:12px
}
.asset-head{
display:flex;
justify-content:space-between;
align-items:center;
cursor:pointer
}
.asset-left{display:flex;gap:10px;align-items:center}
.asset-left img{width:28px;height:28px}
.asset-actions{display:none;gap:8px;margin-top:10px}
.asset-actions button{
flex:1;
background:#1b2a5a;
border:none;
padding:8px;
border-radius:8px
}

.hidden{display:none}

/* MODAL */
.modal{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,.6);
display:none;
align-items:center;
justify-content:center
}
.modal-content{
background:#121c3b;
padding:20px;
border-radius:12px;
width:90%;
max-width:360px
}
.modal-content input{
width:100%;
padding:10px;
margin:8px 0;
border:none;
border-radius:6px
}
</style>
</head>

<body>

<header>
  <div class="left">
    <strong>Nexbit</strong>
    <span class="tab active" id="t_assets" onclick="showTab('assets')">Assets</span>
    <span class="tab" id="t_history" onclick="showTab('history')">History</span>
  </div>
  <div class="right">
    <button onclick="logout()">Logout</button>
  </div>
</header>

<div class="container">

<!-- BALANCE -->
<div class="card balance">
  <h3>Total Balance</h3>
  <h1>$0.00</h1>
  <small>BTC: 0.00000000</small><br><br>
  <button onclick="openModal('deposit')">Deposit</button>
  <button onclick="openModal('withdraw')">Withdraw</button>
</div>

<!-- ASSETS TAB -->
<div id="assetsTab">
  <div id="assetList"></div>
</div>

<!-- HISTORY TAB -->
<div id="historyTab" class="hidden">
  <div class="card">
    <h3>Transaction History</h3>
    <p>Deposit • BTC • Pending</p>
    <p>Withdraw • USDT • Approved</p>
    <p>Transfer • ETH • Completed</p>
  </div>
</div>

</div>

<!-- MODALS -->
<div class="modal" id="depositModal">
  <div class="modal-content">
    <h3>Deposit Request</h3>
    <input placeholder="Coin">
    <input placeholder="Amount">
    <input placeholder="Transaction ID">
    <button onclick="closeModal()">Submit</button>
  </div>
</div>

<div class="modal" id="withdrawModal">
  <div class="modal-content">
    <h3>Withdraw Request</h3>
    <input placeholder="Coin">
    <input placeholder="Amount">
    <input placeholder="Wallet Address">
    <button onclick="closeModal()">Submit</button>
  </div>
</div>

<script>
/* TABS */
function showTab(t){
assetsTab.classList.toggle("hidden",t!=="assets");
historyTab.classList.toggle("hidden",t!=="history");
t_assets.classList.toggle("active",t==="assets");
t_history.classList.toggle("active",t==="history");
}

/* ASSETS */
const coins=[
{name:"BTC",logo:"https://cryptologos.cc/logos/bitcoin-btc-logo.png"},
{name:"ETH",logo:"https://cryptologos.cc/logos/ethereum-eth-logo.png"},
{name:"USDT",logo:"https://cryptologos.cc/logos/tether-usdt-logo.png"},
{name:"BNB",logo:"https://cryptologos.cc/logos/bnb-bnb-logo.png"},
{name:"SOL",logo:"https://cryptologos.cc/logos/solana-sol-logo.png"}
];

assetList.innerHTML=coins.map(c=>`
<div class="asset-row">
  <div class="asset-head" onclick="this.nextElementSibling.style.display=
  this.nextElementSibling.style.display==='flex'?'none':'flex'">
    <div class="asset-left">
      <img src="${c.logo}">
      <strong>${c.name}</strong>
    </div>
    <span>0.00 ▾</span>
  </div>
  <div class="asset-actions">
    <button onclick="openModal('deposit')">Deposit</button>
    <button onclick="openModal('withdraw')">Withdraw</button>
    <button>Transfer</button>
    <button>Swap</button>
  </div>
</div>
`).join("");

/* MODAL */
function openModal(t){document.getElementById(t+"Modal").style.display="flex"}
function closeModal(){
depositModal.style.display="none";
withdrawModal.style.display="none";
}
</script>

<!-- FIREBASE AUTH -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDR2XkDg6UA19ZdjSqK3fCZiUCNn0c3Me8",
  authDomain: "nexbit-exchange.firebaseapp.com",
  projectId: "nexbit-exchange",
  storageBucket: "nexbit-exchange.firebasestorage.app",
  messagingSenderId: "944018123673",
  appId: "1:944018123673:web:08a769c6e6afabf0aa8108"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth,(user)=>{
if(!user) location.href="login.html";
});

window.logout=()=>{
signOut(auth).then(()=>location.href="login.html");
};
</script>

</body>
</html>
